function maxValue(t,n){for(var e=t[0][n],l=0;l<t.length;l++)e<t[l][n]&&(e=t[l][n]);return e}var maxKills=maxValue(jamesBond,"kills"),svgContainer=d3.select(".graph"),lines=svgContainer.selectAll("line").data(jamesBond,function(t){return t?t.name:this.id}).enter().append("line").attr("x1",function(t,n){return 750/jamesBond.length*n+50}).attr("y1",function(t,n){return 700/maxKills*(maxKills-t.kills)+100}).attr("x2",function(t,n){return t.explicitly/t.slept*750+50}).attr("y2",50).style("stroke-width",2).style("stroke",function(t,n){return"rgb("+(255/maxKills*t.kills+100)+",100,100)"}),circles=svgContainer.selectAll("circle").data(jamesBond,function(t){return t?t.name:this.id}).enter().append("circle").attr("cx",function(t,n){return 750/jamesBond.length*n+50}).attr("cy",function(t,n){return 700/maxKills*(maxKills-t.kills)+100}).attr("r",4).attr("data-kills",function(t,n){return t.kills}).attr("data-year",function(t,n){return t.year}).attr("data-explicit",function(t,n){return(t.explicitly/t.slept*100).toFixed(0)}).style("fill",function(t,n){return"rgb("+(255/maxKills*t.kills+100)+",100,100)"});